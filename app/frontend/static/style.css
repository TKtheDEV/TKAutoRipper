/* ==== Base Reset ==== */
html, body {
  margin: 0;
  padding: 0;
  font-family: sans-serif;
  color: inherit;
  background-color: inherit;
}

/* ==== Light Mode (Default) ==== */
html.light-mode { background-color: #f5f7fa; color: #333; }
html.light-mode .tile { background:#fff; color:#333; box-shadow: inset 0 0 0 1px #ddd; }
html.light-mode .tile h3 { color:#2c2c2c; }
html.light-mode form input,
html.light-mode form textarea,
html.light-mode form select { background:#fff; color:#111; border:1px solid #999; }
html.light-mode form button { border-color:#4caf50; color:#4caf50; }
html.light-mode form button:hover { background:#4caf50; color:#fff; }

/* ==== Dark Mode ==== */
html.dark-mode { background-color:#1e1e1e; color:#f5f5f5; }
html.dark-mode .tile { background:#2c2c2c; color:#f5f5f5; box-shadow: inset 0 0 0 1px #444; }
html.dark-mode .tile h3 { color:#f5f5f5; }
html.dark-mode form input,
html.dark-mode form textarea,
html.dark-mode form select { background:#1e1e1e; color:#eee; border:1px solid #555; }
html.dark-mode form button { background:#1e1e1e; border:1px solid #4caf50; color:#4caf50; }
html.dark-mode form button:hover { background:#4caf50; color:#1e1e1e; }

/* ==== Shared Layout ==== */
.content { padding: .75rem; padding-top: 3rem; }

main.dashboard-content,
main.settings-content {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: .75rem;
  padding: .75rem;
  padding-top: 4.5rem;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  justify-content: center;
}

/* Header */
.header-bar {
  background:#2c2c2c; color:#fff;
  display:flex; justify-content:space-between; align-items:center;
  padding:.75rem 1.5rem;
  position:fixed; top:0; left:0; right:0; z-index:1000;
}
.header-bar h1 { margin:0; font-size:1.4rem; }
.title-left { display:flex; align-items:center; gap:.6rem; }
.icon { font-size:1.6rem; }
.title-right { display:flex; align-items:center; gap:1.2rem; }
.title-right a, .title-right .theme-symbol {
  font-size:1.6rem; display:flex; align-items:center; justify-content:center;
  text-decoration:none; color:inherit; cursor:pointer; transition:transform .2s ease;
}
.title-right a:hover, .title-right .theme-symbol:hover { transform: scale(1.15); }

/* ==== Toasts ==== */
#toast {
  position: fixed;
  top: 3.75rem;
  right: .25rem;
  z-index: 9999;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: .75rem;
}
.toast-msg {
  background:#2e2e2e; color:#eee; padding:.75rem 1rem; border-radius:6px;
  font-size:1rem; box-shadow:0 2px 8px rgba(0,0,0,.5);
  transition: opacity .4s ease, transform .4s ease;
  max-width:320px; border-left:5px solid #4caf50; opacity:1; transform:translateY(0);
}
.toast-msg.fade-out { opacity:0; transform:translateY(-10px); }

/* ==== Tiles (global) ==== */
.tile-row { display:flex; flex-wrap:wrap; gap:.75rem; row-gap:.75rem; margin-bottom:1rem; }
.tile {
  padding:.75rem; border-radius:6px; min-width:200px; max-width:250px; /* global narrow tiles */
  flex:0 0 auto; display:flex; flex-direction:column; align-items:flex-start;
}
.entry { margin:2px 0; white-space:normal; word-break:break-word; }
.entry strong { font-weight:bold; margin-right:4px; }

/* ==== Forms (global) ==== */
form input[type="text"], form textarea, form select {
  width:100%; box-sizing:border-box; padding:6px; font-size:.95rem;
  margin-top:.25rem; margin-bottom:.5rem; border-radius:4px;
}
form textarea { resize: vertical; }
select {
  appearance:none;
  background-image:url("data:image/svg+xml;utf8,<svg fill='gray' height='24' viewBox='0 0 24 24' width='24'><path d='M7 10l5 5 5-5z'/></svg>");
  background-repeat:no-repeat; background-position:right .5rem center; background-size:1em; padding-right:2rem;
}
form button { padding:5px 10px; font-size:.9rem; cursor:pointer; border-radius:4px; transition: background-color .2s ease; }

/* Smooth input transitions + focus */
form input, form textarea, form select { transition: border-color .2s ease, background-color .2s ease; }
form input:focus, form textarea:focus, form select:focus { border-color:#4caf50; background-color:#111; }

.input-row { display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
.input-row .switch { margin:0; }

/* ==== Toggle Switch ==== */
.switch { position:relative; display:inline-block; width:50px; height:24px; margin-left:10px; }
.switch input { display:none; }
.slider { position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background:#ccc; transition:.4s; border-radius:24px; }
.slider::before { content:""; position:absolute; height:20px; width:20px; left:2px; bottom:2px; background:#fff; transition:.4s; border-radius:50%; }
input:checked + .slider { background:#4caf50; }
input:checked + .slider::before { transform: translateX(26px); }

/* ==== Settings page tweaks ==== */
main.settings-content {
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap:1rem; padding:1rem; padding-top:5rem;
}
main.settings-content .tile { font-size:.95rem; max-width:350px; min-width:280px; padding:.75rem; }

/* Subtle tile hover */
.tile:hover { box-shadow: 0 0 5px #4caf50aa; transition: box-shadow .3s ease; }

/* Inline form bits */
.tile form { display:flex; flex-direction:column; gap:.5rem; margin-bottom:1rem; }
.tile form label { display:block; margin-bottom:.2rem; }
.tile form .switch { margin-top:.4rem; }
.tile form .input-row { display:flex; gap:.5rem; align-items:center; }
.tile form button { margin:0; white-space:nowrap; padding:5px 10px; font-size:.85rem; }
.tile form input, .tile form textarea, .tile form select { margin-top:.2rem; margin-bottom:.5rem; }

/* Status badges (dashboard) */
.status-badge { padding:2px 6px; border-radius:4px; }
.status-badge.queued { background:#757575; }
.status-badge.ripping, .status-badge.running { background:#ffa500; }
.status-badge.finished { background:#4caf50; }
.status-badge.failed, .status-badge.cancelled { background:#e53935; }

/* Spinner for running jobs */
.job-card.running h2::after { content:" ⏳"; display:inline-block; animation:spin 1s linear infinite; }
@keyframes spin { from{transform:rotate(0)} to{transform:rotate(360deg)} }

/* ====== JOB DETAILS (scoped, desktop two-column) ====== */
body[data-job-id] main.content { padding-top: 4.5rem; }

/* Grid wrapper — desktop = 2 cols; small screens stack */
body[data-job-id] .job-layout {
  display:grid;
  grid-template-columns: minmax(360px, 480px) 1fr; /* left meta, right log */
  gap: 1rem;
  align-items: start;
}
@media (max-width: 900px) {
  body[data-job-id] .job-layout { grid-template-columns: 1fr; }
}

/* Left column stacks tiles; tiles are full-width on this page */
body[data-job-id] .left-col { display:flex; flex-direction:column; gap:1rem; }
body[data-job-id] .tile { max-width: none; width: 100%; box-sizing: border-box; }

/* Keep meta tile visible while scrolling on desktop */
@media (min-width: 901px) {
  body[data-job-id] #job-meta { position: sticky; top: 4.5rem; align-self: start; }
}

/* Output row: input fills the tile */
body[data-job-id] #output-wrap .input-row { display:flex; gap:.5rem; align-items:center; }
body[data-job-id] #output-wrap .input-row input { flex:1; width:auto; min-width:0; }

/* OMDb: title+season on one line; Apply on next */
body[data-job-id] #omdb-wrap .omdb-row { align-items:flex-end; gap:.75rem; }
body[data-job-id] #omdb-wrap input[type="text"],
body[data-job-id] #omdb-wrap input[type="number"] { width:100%; }

/* Log tile + log box scrolling (no page-wide scrollbar) */
body[data-job-id] .log-tile .log-header {
  display:flex; justify-content:space-between; align-items:center; gap:.75rem; margin-bottom:.5rem;
}
body[data-job-id] #log-window {
  max-height: 70vh;
  overflow: auto;          /* scroll inside the box */
  white-space: pre;        /* keep columns; horizontal scroll only inside */
  max-width: 100%;
  box-sizing: border-box;
  background-color: #1e1e1e;
  padding: 1rem;
  border-radius: 6px;
  font-family: monospace;
  font-size: 0.9rem;
  border: 1px solid #444;
}


